import{t as me,d as ge,W as $,a6 as he,aS as ve,r as f,e as T,m as xe,i as Oe,aA as ye,$ as Pe,c as M,f as N,a9 as _e,a8 as ke}from"./index-CMUrF6kL.js";import{$ as we}from"./import-CgiFYwHa.js";var j=me({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...ge],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:$.solid.foreground},primary:{base:"before:bg-primary",content:$.solid.primary},secondary:{base:"before:bg-secondary",content:$.solid.secondary},success:{base:"before:bg-success",content:$.solid.success},warning:{base:"before:bg-warning",content:$.solid.warning},danger:{base:"before:bg-danger",content:$.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",disableAnimation:!1,triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),Ae=a=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[a])||{}},Ce=a=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[a],$e=(a,t)=>{if(t.includes("-")){const[n]=t.split("-");if(n.includes(a))return!1}return!0},J=(a,t)=>{if(t.includes("-")){const[,n]=t.split("-");return`${a}-${n}`}return a},E=new WeakMap,d=[];function Ne(a,t=document.body){let n=new Set(a),i=new Set,g=o=>{for(let l of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(l);let r=l=>{const x=l.parentElement;if(n.has(l)||i.has(x)&&x.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let y of n)if(l.contains(y))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},e=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:r}),O=r(o);if(O===NodeFilter.FILTER_ACCEPT&&h(o),O!==NodeFilter.FILTER_REJECT){let l=e.nextNode();for(;l!=null;)h(l),l=e.nextNode()}},h=o=>{var r;let e=(r=E.get(o))!=null?r:0;o.getAttribute("aria-hidden")==="true"&&e===0||(e===0&&o.setAttribute("aria-hidden","true"),i.add(o),E.set(o,e+1))};d.length&&d[d.length-1].disconnect(),g(t);let b=new MutationObserver(o=>{for(let r of o)if(!(r.type!=="childList"||r.addedNodes.length===0)&&![...n,...i].some(e=>e.contains(r.target))){for(let e of r.removedNodes)e instanceof Element&&(n.delete(e),i.delete(e));for(let e of r.addedNodes)(e instanceof HTMLElement||e instanceof SVGElement)&&(e.dataset.liveAnnouncer==="true"||e.dataset.reactAriaTopLayer==="true")?n.add(e):e instanceof Element&&g(e)}});b.observe(t,{childList:!0,subtree:!0});let v={observe(){b.observe(t,{childList:!0,subtree:!0})},disconnect(){b.disconnect()}};return d.push(v),()=>{b.disconnect();for(let o of i){let r=E.get(o);r!=null&&(r===1?(o.removeAttribute("aria-hidden"),E.delete(o)):E.set(o,r-1))}v===d[d.length-1]?(d.pop(),d.length&&d[d.length-1].observe()):d.splice(d.indexOf(v),1)}}function Re(a,t){const{triggerRef:n,popoverRef:i,showArrow:g,offset:h=7,crossOffset:b=0,scrollRef:v,shouldFlip:o,boundaryElement:r,shouldCloseOnBlur:e=!0,placement:O="top",containerPadding:l,shouldCloseOnInteractOutside:x,isNonModal:y,isKeyboardDismissDisabled:L,...X}=a,A=y||!0,{overlayProps:Y,underlayProps:I}=he({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:e,isDismissable:!0,isKeyboardDismissDisabled:L,shouldCloseOnInteractOutside:x||(z=>{let F=n==null?void 0:n.current;return!F||!F.contains(z)})},i),{overlayProps:u,arrowProps:D,placement:P}=ve({...X,shouldFlip:o,crossOffset:b,targetRef:n,overlayRef:i,isOpen:t.isOpen,scrollRef:v,boundaryElement:r,containerPadding:l,placement:Ce(O),offset:g?h+3:h,onClose:()=>{}});return f.useEffect(()=>{if(t.isOpen&&!A&&i.current)return Ne([i.current])},[A,t.isOpen,i]),{popoverProps:T(Y,u),arrowProps:D,underlayProps:I,placement:P}}function Fe(a){var t,n;const[i,g]=xe(a,j.variantKeys),{as:h,children:b,ref:v,state:o,triggerRef:r,scrollRef:e,defaultOpen:O,onOpenChange:l,isOpen:x,isNonModal:y=!0,shouldFlip:L=!0,containerPadding:X=12,shouldBlockScroll:A=!1,shouldCloseOnBlur:Y,portalContainer:I,placement:u="top",triggerType:D="dialog",showArrow:P=!1,offset:z=7,crossOffset:F=0,boundaryElement:G,isKeyboardDismissDisabled:U,shouldCloseOnInteractOutside:Q,motionProps:Z,className:ee,classNames:p,onClose:V,...W}=i,te=h||"div",m=Oe(v),oe=f.useRef(null),S=f.useRef(!1),R=r||oe,ae=(t=a.disableAnimation)!=null?t:!1,re=we({isOpen:x,defaultOpen:O,onOpenChange:s=>{l==null||l(s),s||V==null||V()}}),c=o||re,{popoverProps:q,underlayProps:B,placement:_}=Re({triggerRef:R,isNonModal:y,popoverRef:m,placement:u,offset:z,scrollRef:e,shouldCloseOnBlur:Y,boundaryElement:G,crossOffset:F,shouldFlip:L,containerPadding:X,isKeyboardDismissDisabled:U,shouldCloseOnInteractOutside:Q},c),{triggerProps:k}=ye({type:D},c,R),{isFocusVisible:ne,isFocused:se,focusProps:le}=Pe(),w=f.useMemo(()=>j({...g}),[...Object.values(g)]),ie=M(p==null?void 0:p.base,ee),ce=(s={})=>({ref:m,...T(q,W,s),style:T(q.style,W.style,s.style)}),de=(s={})=>({"data-slot":"base","data-open":N(c.isOpen),"data-focus":N(se),"data-arrow":N(P),"data-focus-visible":N(ne),"data-placement":J(_,u),...T(le,s),className:w.base({class:M(ie)}),style:{outline:"none"}}),pe=f.useCallback((s={})=>({"data-slot":"content","data-open":N(c.isOpen),"data-arrow":N(P),"data-placement":J(_,u),className:w.content({class:M(p==null?void 0:p.content,s.className)})}),[w,c.isOpen,P,_,u,p]),fe=f.useMemo(()=>$e(_,u)?_:u,[_,u]),K=f.useCallback(s=>{var C;let H;return s.pointerType==="touch"&&((a==null?void 0:a.backdrop)==="blur"||(a==null?void 0:a.backdrop)==="opaque")?H=setTimeout(()=>{S.current=!0},100):S.current=!0,(C=k.onPress)==null||C.call(k,s),()=>{clearTimeout(H)}},[k==null?void 0:k.onPress]),ue=f.useCallback((s={},C=null)=>({"data-slot":"trigger","aria-haspopup":"dialog",...T(k,s),onPress:K,className:w.trigger({class:M(p==null?void 0:p.trigger,s.className)}),ref:_e(C,R)}),[c,k,K,R]),be=f.useCallback((s={})=>({"data-slot":"backdrop",className:w.backdrop({class:p==null?void 0:p.backdrop}),onClick:C=>{if(!S.current){C.preventDefault();return}c.close(),S.current=!1},...B,...s}),[w,c.isOpen,p,B]);return f.useEffect(()=>{if(c.isOpen&&(m!=null&&m.current))return ke([m==null?void 0:m.current])},[c.isOpen,m]),{state:c,Component:te,children:b,classNames:p,showArrow:P,triggerRef:R,placement:fe,isNonModal:y,popoverRef:m,portalContainer:I,isOpen:c.isOpen,onClose:c.close,disableAnimation:ae,shouldBlockScroll:A,backdrop:(n=a.backdrop)!=null?n:"transparent",motionProps:Z,getBackdropProps:be,getPopoverProps:ce,getTriggerProps:ue,getDialogProps:de,getContentProps:pe}}export{Ae as g,Fe as u};
