import{r as u}from"./index-CdfQvaAC.js";function W(c,r,f){var g=this,i=u.useRef(null),l=u.useRef(0),n=u.useRef(null),a=u.useRef([]),o=u.useRef(),s=u.useRef(),E=u.useRef(c),m=u.useRef(!0);E.current=c;var x=typeof window<"u",d=!r&&r!==0&&x;if(typeof c!="function")throw new TypeError("Expected a function");r=+r||0;var F=!!(f=f||{}).leading,b=!("trailing"in f)||!!f.trailing,v="maxWait"in f,D="debounceOnServer"in f&&!!f.debounceOnServer,h=v?Math.max(+f.maxWait||0,r):null;u.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var O=u.useMemo(function(){var y=function(e){var t=a.current,w=o.current;return a.current=o.current=null,l.current=e,s.current=E.current.apply(w,t)},p=function(e,t){d&&cancelAnimationFrame(n.current),n.current=d?requestAnimationFrame(e):setTimeout(e,t)},M=function(e){if(!m.current)return!1;var t=e-i.current;return!i.current||t>=r||t<0||v&&e-l.current>=h},T=function(e){return n.current=null,b&&a.current?y(e):(a.current=o.current=null,s.current)},A=function e(){var t=Date.now();if(M(t))return T(t);if(m.current){var w=r-(t-i.current),S=v?Math.min(w,h-(t-l.current)):w;p(e,S)}},R=function(){if(x||D){var e=Date.now(),t=M(e);if(a.current=[].slice.call(arguments),o.current=g,i.current=e,t){if(!n.current&&m.current)return l.current=i.current,p(A,r),F?y(i.current):s.current;if(v)return p(A,r),y(i.current)}return n.current||p(A,r),s.current}};return R.cancel=function(){n.current&&(d?cancelAnimationFrame(n.current):clearTimeout(n.current)),l.current=0,a.current=i.current=o.current=n.current=null},R.isPending=function(){return!!n.current},R.flush=function(){return n.current?T(Date.now()):s.current},R},[F,v,r,h,b,d,x,D]);return O}function k(c,r){return c===r}function q(c,r){return r}function P(c,r,f){var g=k,i=u.useReducer(q,c),l=i[0],n=i[1],a=W(u.useCallback(function(s){return n(s)},[n]),r,f),o=u.useRef(c);return g(o.current,c)||(a(c),o.current=c),[l,a]}export{P as o};
