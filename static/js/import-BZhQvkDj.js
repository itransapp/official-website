import{r as u,an as f,ac as b,R as h,e as p}from"./index-dWZPkVnY.js";class g{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,e){this.nativeEvent=e,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.defaultPrevented=e.defaultPrevented,this.eventPhase=e.eventPhase,this.isTrusted=e.isTrusted,this.timeStamp=e.timeStamp,this.type=t}}function v(n){let t=u.useRef({isFocused:!1,observer:null});f(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let e=b(r=>{n==null||n(r)});return u.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,a=i=>{t.current.isFocused=!1,s.disabled&&e(new g("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function $(n){let{isDisabled:t,onBlurWithin:e,onFocusWithin:r,onFocusWithinChange:s}=n,a=u.useRef({isFocusWithin:!1}),i=u.useCallback(o=>{a.current.isFocusWithin&&!o.currentTarget.contains(o.relatedTarget)&&(a.current.isFocusWithin=!1,e&&e(o),s&&s(!1))},[e,s,a]),c=v(i),d=u.useCallback(o=>{!a.current.isFocusWithin&&document.activeElement===o.target&&(r&&r(o),s&&s(!0),a.current.isFocusWithin=!0,c(o))},[r,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:i}}}const l={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function F(n={}){let{style:t,isFocusable:e}=n,[r,s]=u.useState(!1),{focusWithinProps:a}=$({isDisabled:!e,onFocusWithinChange:c=>s(c)}),i=u.useMemo(()=>r?t:t?{...l,...t}:l,[r]);return{visuallyHiddenProps:{...a,style:i}}}function P(n){let{children:t,elementType:e="div",isFocusable:r,style:s,...a}=n,{visuallyHiddenProps:i}=F(n);return h.createElement(e,p(a,i),t)}export{P as $,F as a};
