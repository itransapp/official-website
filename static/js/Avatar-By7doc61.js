import{r as c,k as q,l as O}from"./index-CydsovlJ.js";import{A as S,D as W}from"./index-k1QGnjXa.js";import{a as C}from"./chunk-LSZJW3GU-B9locpnz.js";function I(n,r,a){var A=this,i=c.useRef(null),s=c.useRef(0),e=c.useRef(null),f=c.useRef([]),o=c.useRef(),l=c.useRef(),D=c.useRef(n),m=c.useRef(!0);D.current=n;var w=typeof window<"u",d=!r&&r!==0&&w;if(typeof n!="function")throw new TypeError("Expected a function");r=+r||0;var E=!!(a=a||{}).leading,F=!("trailing"in a)||!!a.trailing,v="maxWait"in a,b="debounceOnServer"in a&&!!a.debounceOnServer,g=v?Math.max(+a.maxWait||0,r):null;c.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var j=c.useMemo(function(){var y=function(t){var u=f.current,x=o.current;return f.current=o.current=null,s.current=t,l.current=D.current.apply(x,u)},R=function(t,u){d&&cancelAnimationFrame(e.current),e.current=d?requestAnimationFrame(t):setTimeout(t,u)},M=function(t){if(!m.current)return!1;var u=t-i.current;return!i.current||u>=r||u<0||v&&t-s.current>=g},T=function(t){return e.current=null,F&&f.current?y(t):(f.current=o.current=null,l.current)},h=function t(){var u=Date.now();if(M(u))return T(u);if(m.current){var x=r-(u-i.current),k=v?Math.min(x,g-(u-s.current)):x;R(t,k)}},p=function(){if(w||b){var t=Date.now(),u=M(t);if(f.current=[].slice.call(arguments),o.current=A,i.current=t,u){if(!e.current&&m.current)return s.current=i.current,R(h,r),E?y(i.current):l.current;if(v)return R(h,r),y(i.current)}return e.current||R(h,r),l.current}};return p.cancel=function(){e.current&&(d?cancelAnimationFrame(e.current):clearTimeout(e.current)),s.current=0,f.current=i.current=o.current=e.current=null},p.isPending=function(){return!!e.current},p.flush=function(){return e.current?T(Date.now()):l.current},p},[E,v,r,g,F,d,w,b]);return j}function L(n,r){return n===r}function P(n,r){return r}function G(n,r,a){var A=a&&a.equalityFn||L,i=c.useReducer(P,n),s=i[0],e=i[1],f=I(c.useCallback(function(l){return e(l)},[e]),r,a),o=c.useRef(n);return A(o.current,n)||(f(n),o.current=n),[s,f]}const H=q((n,r)=>O.jsx(C,{ref:r,...n,src:S({src:n.src||W})}));export{H as A,G as o};
